{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stepper-with-scroll-tracking",
  "title": "Stepper with scroll tracking",
  "description": "A stepper with scroll tracking",
  "dependencies": [
    "@stepperize/react"
  ],
  "registryDependencies": [
    "button",
    "label",
    "radio-group"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/stepper-with-scroll-tracking/page.tsx",
      "content": "import { StepperWithScrollTracking } from \"@/registry/new-york/blocks/stepper-with-scroll-tracking/components/stepper-with-scroll-tracking\";\n\nexport default async function Page() {\n\treturn (\n\t\t<div className=\"flex min-h-screen items-center justify-center\">\n\t\t\t<div className=\"w-full max-w-2xl px-4\">\n\t\t\t\t<StepperWithScrollTracking />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
      "type": "registry:page",
      "target": "app/stepper-with-scroll-tracking/page.tsx"
    },
    {
      "path": "registry/new-york/blocks/stepper-with-scroll-tracking/components/stepper-with-scroll-tracking.tsx",
      "content": "\"use client\";\n\nimport { defineStepper, Get } from \"@stepperize/react\";\nimport { useStepItemContext } from \"@stepperize/react/primitives\";\nimport * as React from \"react\";\n\nimport { Button } from \"@/registry/new-york/ui/button\";\n\nconst { Stepper, ...stepperDefinition } = defineStepper([\n\t{\n\t\tid: \"introduction\",\n\t\ttitle: \"Introduction\",\n\t\tdescription: \"Welcome to the tutorial\",\n\t},\n\t{\n\t\tid: \"basics\",\n\t\ttitle: \"Basics\",\n\t\tdescription: \"Learn the fundamentals\",\n\t},\n\t{\n\t\tid: \"advanced\",\n\t\ttitle: \"Advanced\",\n\t\tdescription: \"Deep dive into advanced topics\",\n\t},\n\t{\n\t\tid: \"practice\",\n\t\ttitle: \"Practice\",\n\t\tdescription: \"Apply what you learned\",\n\t},\n\t{\n\t\tid: \"certification\",\n\t\ttitle: \"Certification\",\n\t\tdescription: \"Get your certificate\",\n\t},\n]);\n\nconst StepperTriggerWrapper = () => {\n\tconst item = useStepItemContext();\n\tconst isInactive = item.status === \"inactive\";\n\n\treturn (\n\t\t<Stepper.Trigger\n\t\t\trender={(domProps) => (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"rounded-full\"\n\t\t\t\t\tvariant={isInactive ? \"secondary\" : \"default\"}\n\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t{...domProps}\n\t\t\t\t>\n\t\t\t\t\t<Stepper.Indicator />\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nconst StepperTitleWrapper = ({ title }: { title: string }) => {\n\treturn (\n\t\t<Stepper.Title\n\t\t\trender={(domProps) => (\n\t\t\t\t<h4 className=\"text-base font-medium\" {...domProps}>\n\t\t\t\t\t{title}\n\t\t\t\t</h4>\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nconst StepperDescriptionWrapper = ({\n\tdescription,\n}: { description?: string }) => {\n\tif (!description) return null;\n\treturn (\n\t\t<Stepper.Description\n\t\t\trender={(domProps) => (\n\t\t\t\t<p className=\"text-sm text-muted-foreground\" {...domProps}>\n\t\t\t\t\t{description}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nconst StepperSeparatorVertical = ({\n\tstatus,\n\tisLast,\n}: { status: string; isLast: boolean }) => {\n\tif (isLast) return null;\n\n\treturn (\n\t\t<div className=\"flex justify-center ps-[calc(var(--spacing)*4.5-1px)] self-stretch\">\n\t\t\t<Stepper.Separator\n\t\t\t\torientation=\"vertical\"\n\t\t\t\tdata-status={status}\n\t\t\t\tclassName=\"w-0.5 h-full bg-muted data-[status=success]:bg-primary transition-all duration-300 ease-in-out\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport function StepperWithScrollTracking() {\n\treturn (\n\t\t<div className=\"h-[500px] overflow-y-auto rounded-lg border p-4\">\n\t\t\t<Stepper.Root\n\t\t\t\tclassName=\"w-full space-y-4\"\n\t\t\t\torientation=\"vertical\"\n\t\t\t>\n\t\t\t\t{({ stepper }) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Stepper.List className=\"flex flex-col\">\n\t\t\t\t\t\t\t{stepper.steps.map((stepInfo, index) => {\n\t\t\t\t\t\t\t\tconst { status } = stepInfo;\n\t\t\t\t\t\t\t\tconst isLast =\n\t\t\t\t\t\t\t\t\tindex === stepper.steps.length - 1;\n\t\t\t\t\t\t\t\tconst stepData = stepInfo.data as {\n\t\t\t\t\t\t\t\t\tid: string;\n\t\t\t\t\t\t\t\t\ttitle: string;\n\t\t\t\t\t\t\t\t\tdescription?: string;\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<React.Fragment key={stepInfo.data.id}>\n\t\t\t\t\t\t\t\t\t\t<Stepper.Item\n\t\t\t\t\t\t\t\t\t\t\tstep={stepInfo.data.id}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"group peer relative flex items-center gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<StepperTriggerWrapper />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-start gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<StepperTitleWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={stepData.title}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<StepperDescriptionWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstepData.description\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Stepper.Item>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-4\">\n\t\t\t\t\t\t\t\t\t\t\t<StepperSeparatorVertical\n\t\t\t\t\t\t\t\t\t\t\t\tstatus={status}\n\t\t\t\t\t\t\t\t\t\t\t\tisLast={isLast}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 ps-4 py-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ContentWithTracking\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstepInfo.data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id as Get.Id<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof stepperDefinition.steps\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisActive={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus === \"active\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Stepper.List>\n\t\t\t\t\t\t<Stepper.Actions className=\"flex justify-end gap-4 sticky bottom-0 bg-background py-4\">\n\t\t\t\t\t\t\t{!stepper.isLast && (\n\t\t\t\t\t\t\t\t<Stepper.Prev\n\t\t\t\t\t\t\t\t\trender={(domProps) => (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t{...domProps}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{stepper.isLast ? (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => stepper.reset()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tStart Over\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Stepper.Next\n\t\t\t\t\t\t\t\t\trender={(domProps) => (\n\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" {...domProps}>\n\t\t\t\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Stepper.Actions>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Stepper.Root>\n\t\t</div>\n\t);\n}\n\nconst ContentWithTracking = ({\n\tid,\n\tisActive,\n}: { id: Get.Id<typeof stepperDefinition.steps>; isActive: boolean }) => {\n\tconst ref = React.useRef<HTMLDivElement>(null);\n\n\tReact.useEffect(() => {\n\t\tif (isActive && ref.current) {\n\t\t\tref.current.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n\t\t}\n\t}, [isActive]);\n\n\tconst contentMap: Record<string, { title: string; content: string }> = {\n\t\tintroduction: {\n\t\t\ttitle: \"Welcome!\",\n\t\t\tcontent:\n\t\t\t\t\"This tutorial will guide you through the basics and advanced concepts. Take your time to understand each section before moving on.\",\n\t\t},\n\t\tbasics: {\n\t\t\ttitle: \"Fundamental Concepts\",\n\t\t\tcontent:\n\t\t\t\t\"In this section, we cover the core concepts that form the foundation of everything else. Make sure you understand these before proceeding.\",\n\t\t},\n\t\tadvanced: {\n\t\t\ttitle: \"Advanced Topics\",\n\t\t\tcontent:\n\t\t\t\t\"Now that you understand the basics, let's dive into more complex scenarios and edge cases that you might encounter.\",\n\t\t},\n\t\tpractice: {\n\t\t\ttitle: \"Hands-on Practice\",\n\t\t\tcontent:\n\t\t\t\t\"Time to apply what you've learned! Complete the exercises below to solidify your understanding.\",\n\t\t},\n\t\tcertification: {\n\t\t\ttitle: \"Congratulations!\",\n\t\t\tcontent:\n\t\t\t\t\"You've completed all the modules. Your certificate is now ready for download.\",\n\t\t},\n\t};\n\n\tconst content = contentMap[id];\n\n\treturn (\n\t\t<Stepper.Content\n\t\t\tstep={id}\n\t\t\trender={(props) => (\n\t\t\t\t<div\n\t\t\t\t\tref={ref}\n\t\t\t\t\t{...props}\n\t\t\t\t\tclassName=\"min-h-[150px] rounded border bg-secondary text-secondary-foreground p-6 transition-all duration-300\"\n\t\t\t\t>\n\t\t\t\t\t<p className=\"text-lg font-medium\">{content.title}</p>\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground mt-2\">\n\t\t\t\t\t\t{content.content}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t/>\n\t);\n};\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}