---
title: Scoped
description: Share stepper state with the Scoped component
---

`Scoped` is the provider for the stepper. Children can use `useStepper()` (from the same `defineStepper` result) to access the same stepper instance.

## Basic usage

```tsx twoslash
import * as React from "react";
import { defineStepper } from "@stepperize/react";

const { Scoped, useStepper } = defineStepper(
  { id: "first", title: "First" },
  { id: "second", title: "Second" },
  { id: "last", title: "Last" }
);

export const MyScopedStepper = () => (
  <Scoped>
    <StepContent />
    <StepNavigation />
  </Scoped>
);

const StepContent = () => {
  const stepper = useStepper();
  return (
    <div>
      {stepper.when("first", (step) => <p>Starting with {step.title}</p>)}
      {stepper.when("second", (step) => <p>In the middle: {step.title}</p>)}
    </div>
  );
};

const StepNavigation = () => {
  const stepper = useStepper();
  return (
    <button onClick={stepper.isLast ? () => stepper.reset() : () => stepper.next()}>
      {stepper.when("last", () => "Reset", () => "Next")}
    </button>
  );
};
```

## Props

| Name | Type | Description |
| ---- | ---- | ----------- |
| `initialStep` | `Get.Id<Steps>` | Initial active step ID |
| `initialMetadata` | `Partial<Record<Get.Id<Steps>, Metadata>>` | Initial metadata per step |
| `children` | `React.ReactNode` | Content to render |

```tsx twoslash
import * as React from "react";
import { defineStepper } from "@stepperize/react";

const { Scoped, useStepper } = defineStepper(
  { id: "first", title: "First" },
  { id: "second", title: "Second" },
  { id: "last", title: "Last" }
);

export const MyScopedStepper = () => (
  <Scoped
    initialStep="second"
    initialMetadata={{ first: { completed: true }, second: null, last: null }}
  >
    <StepContent />
  </Scoped>
);

const StepContent = () => {
  const stepper = useStepper();
  return <div>Current: {stepper.current.title}</div>;
};
```

## Nested scopes

You can nest different steppers (e.g. global wizard + local sub-steps):

```tsx twoslash
import * as React from "react";
import { defineStepper } from "@stepperize/react";

const GlobalStepper = defineStepper(
  { id: "start", title: "Start" },
  { id: "middle", title: "Middle" },
  { id: "end", title: "End" }
);

const LocalStepper = defineStepper(
  { id: "sub1", title: "Sub-step 1" },
  { id: "sub2", title: "Sub-step 2" }
);

export const NestedSteppers = () => (
  <GlobalStepper.Scoped>
    <GlobalStepContent />
    <LocalStepper.Scoped>
      <LocalStepContent />
    </LocalStepper.Scoped>
  </GlobalStepper.Scoped>
);

const GlobalStepContent = () => {
  const stepper = GlobalStepper.useStepper();
  return <div>Global: {stepper.current.title}</div>;
};

const LocalStepContent = () => {
  const stepper = LocalStepper.useStepper();
  return <div>Local: {stepper.current.title}</div>;
};
```

## With Stepper.Root

`Stepper.Root` wraps content and provides the stepper via context (it uses `Scoped` internally). You can pass `initialStep` and `initialMetadata` to `Stepper.Root` if your primitives support them; otherwise set initial state via `Scoped` or `useStepper({ ... })` when not using Root.

```tsx twoslash
import * as React from "react";
import { defineStepper } from "@stepperize/react";

const { Stepper, useStepper } = defineStepper(
  { id: "first", title: "First" },
  { id: "second", title: "Second" }
);

export const MyStepper = () => (
  <Stepper.Root>
    {({ stepper }) => (
      <div>
        <p>Current: {stepper.current.title}</p>
        <button onClick={() => stepper.next()}>Next</button>
      </div>
    )}
  </Stepper.Root>
);
```
