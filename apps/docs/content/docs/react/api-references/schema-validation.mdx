---
title: Schema Validation
description: Learn how to validate your stepper with any schema library
---

Stepperize provides a way to add schemas to your steps with any schema library. This is very useful for working with forms and libraries such as React Hook Form, Conform, etc.

Let's see how we can create our validation schemas and have them within our stepper.

## Zod

```tsx twoslash
import { z } from "zod";
import { defineStepper } from "@stepperize/react";

const Schema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
});

type MyFormValues = z.infer<typeof Schema>;

const { useStepper } = defineStepper(
  { id: "personal", label: "Personal Information", schema: Schema }
);
```

## ValiBot

```tsx twoslash
import * as v from "valibot";
import { defineStepper } from "@stepperize/react";

const Schema = v.object({
  email: v.pipe(v.string(), v.email()),
  password: v.pipe(v.string(), v.minLength(8)),
});

type MyFormValues = v.InferInput<typeof Schema>;

const { useStepper } = defineStepper(
  { id: "personal", label: "Personal Information", schema: Schema }
);
```

## ArkType

```tsx twoslash
import { type } from "arktype";
import { defineStepper } from "@stepperize/react";

const Schema = type({
  email: "string.email",
  password: "string >= 8",
});

type MyFormValues = typeof Schema.infer;

const { useStepper } = defineStepper(
  { id: "personal", label: "Personal Information", schema: Schema }
);
```

## Accessing schemas

Steps are plain objects; you can add a `schema` (or any key) to each step. Access via the stepper:

```tsx twoslash
import * as React from "react";
import { z } from "zod";
import { defineStepper } from "@stepperize/react";

const PersonalSchema = z.object({
  name: z.string().min(1),
  email: z.string().email(),
});

const AddressSchema = z.object({
  street: z.string().min(1),
  city: z.string().min(1),
});

const { useStepper } = defineStepper(
  { id: "personal", title: "Personal", schema: PersonalSchema },
  { id: "address", title: "Address", schema: AddressSchema }
);

function MyForm() {
  const stepper = useStepper();

  // Current step object (includes schema if you added it)
  const currentSchema = stepper.state.current.data.schema;

  // Step by ID
  const personalStep = stepper.lookup.get("personal");
  const personalSchema = personalStep?.schema;

  return <div>Schema available: {currentSchema ? "Yes" : "No"}</div>;
}
```

## Working with multiple schemas and steps

Let's say we have a series of steps and we will use them with forms, each of which has a validation schema. All you have to do is add the schemas with the key of your choice, and that's it.

Let's see how it works in a practical example with Zod.

```tsx twoslash
import { z } from "zod";
import { defineStepper } from "@stepperize/react";

const FirstStepSchema = z.object({
  name: z.string().min(1),
  lastName: z.string().min(1),
});

const SecondStepSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
});

const ThirdStepSchema = z.object({});

const { useStepper } = defineStepper(
  {
    id: "personal-info",
    label: "Personal Information",
    schema: FirstStepSchema,
  },
  {
    id: "account",
    label: "Account Information",
    schema: SecondStepSchema,
  },
  {
    id: "complete",
    label: "Complete",
    schema: ThirdStepSchema,
  }
);
```

<Callout type="info">
  Steps are plain objects. If you add a `schema` property, access it as `stepper.state.current.data.schema` or `stepper.lookup.get(id)?.schema`. The last step can have an empty schema or no schema; check for existence when needed.
</Callout>
