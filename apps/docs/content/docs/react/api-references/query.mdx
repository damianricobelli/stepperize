---
title: Query
description: Step lookup via stepper.query or generateStepperUtils from core
---

Step lookup is available on the stepper as **`stepper.query`** (from `useStepper()`). The same API is exposed as pure helpers from `@stepperize/core` when you need them without a stepper instance.

## On the stepper: `stepper.query`

When you have a stepper (from `useStepper()` or the render prop on `Stepper.Root`), use `stepper.query`:

| Method | Description | Returns |
| ------ | ----------- | ------- |
| `query.getAll()` | All steps | `Steps` |
| `query.get(id)` | Step by ID | `Get.StepById<Steps, Id>` |
| `query.getIndex(id)` | Index of step by ID | `number` |
| `query.getByIndex(index)` | Step at index | `Steps[Index]` |
| `query.getFirst()` | First step | `Steps[number]` |
| `query.getLast()` | Last step | `Steps[number]` |
| `query.getNext(id)` | Next step after `id` | `Steps[number]` |
| `query.getPrev(id)` | Previous step before `id` | `Steps[number]` |
| `query.getNeighbors(id)` | `{ prev, next }` for step `id` | `{ prev: Steps[number] \| null; next: Steps[number] \| null }` |

There is no `has` or `count`; use `stepper.query.get(id) != null` and `stepper.query.getAll().length` if needed.

## Usage with useStepper

```tsx twoslash
import * as React from "react";
import { defineStepper } from "@stepperize/react";

const { useStepper } = defineStepper(
  { id: "step1", title: "Step 1" },
  { id: "step2", title: "Step 2" },
  { id: "step3", title: "Step 3" }
);

function StepNavigator() {
  const stepper = useStepper();

  const allSteps = stepper.query.getAll();
  const currentIndex = stepper.state.current.index;
  const firstStep = stepper.query.getFirst();
  const lastStep = stepper.query.getLast();
  const stepById = stepper.query.get("step2");
  const nextStep = stepper.query.getNext(stepper.state.current.data.id);
  const { prev, next } = stepper.query.getNeighbors(stepper.state.current.data.id);

  return (
    <div>
      <p>Step {currentIndex + 1} of {allSteps.length}</p>
      <p>Current: {stepper.state.current.data.title}</p>
      {next && <button onClick={() => stepper.navigation.goTo(next.id)}>Go to {next.title}</button>}
    </div>
  );
}
```

## Without a stepper: `generateStepperUtils` from core

When you need step lookup **without** React or current state (e.g. SSR, validation, layout logic), use `generateStepperUtils` from `@stepperize/core`. Install the core package if needed: `pnpm add @stepperize/core`.

```tsx
import { generateStepperUtils } from "@stepperize/core";

const steps = [
  { id: "a", title: "A" },
  { id: "b", title: "B" },
  { id: "c", title: "C" },
] as const;

const utils = generateStepperUtils(...steps);

utils.getAll();        // steps
utils.get("b");        // { id: "b", title: "B" }
utils.getIndex("b");   // 1
utils.getByIndex(0);   // { id: "a", title: "A" }
utils.getFirst();      // first step
utils.getLast();       // last step
utils.getNext("a");    // step "b"
utils.getPrev("b");    // step "a"
utils.getNeighbors("b"); // { prev: step "a", next: step "c" }
```

The return type of `generateStepperUtils` is `StepperQuery<Steps>` (exported as `Utils<Steps>` from core).
